schema: '2.0'
stages:
  load_data:
    cmd: python src\stage_02_load_data.py --config=params.yaml
    deps:
    - path: actual_data\Final_Train.xlsx
      md5: 322b1fe7ece2d9850ccba3fd0977dc11
      size: 241104
    - path: src\stage_01_get_data.py
      md5: f9b2a54a1920ba071f0cccb60226e3fb
      size: 1125
    - path: src\stage_02_load_data.py
      md5: dfa822cc0005714ff2a55e9453f0b6bd
      size: 1222
    outs:
    - path: data\raw\Final_Train.csv
      md5: f1ed5e0b61ab183a994588bc463dbf02
      size: 558363
  preprocess_data:
    cmd: python src\stage_03_preprocess_data.py --config=params.yaml
    deps:
    - path: data\raw\Final_Train.csv
      md5: f1ed5e0b61ab183a994588bc463dbf02
      size: 558363
    - path: src\stage_03_preprocess_data.py
      md5: 1fa10aa0efc5c47b5c79e97ba521b600
      size: 5577
    outs:
    - path: data\raw\processed_data.csv
      md5: bb6f833c51ff5ce0aaccb0ddd0e24e82
      size: 370453
  split_data:
    cmd: python src\stage_04_split_data.py --config=params.yaml
    deps:
    - path: data\raw\processed_data.csv
      md5: bb6f833c51ff5ce0aaccb0ddd0e24e82
      size: 370453
    - path: src\stage_04_split_data.py
      md5: 7e69b47779d5e00de4da81689a806216
      size: 1959
    outs:
    - path: data\processed\test_Final.csv
      md5: c386c6073955e9bb8454b0d853ca19de
      size: 74478
    - path: data\processed\train_Final.csv
      md5: eaded1c189c984b4c40c324e2cb0d9a2
      size: 296390
  train_and_evaluate:
    cmd: python src\stage_05_train_evaluate.py --config=params.yaml
    deps:
    - path: data\processed\test_Final.csv
      md5: c386c6073955e9bb8454b0d853ca19de
      size: 74478
    - path: data\processed\train_Final.csv
      md5: eaded1c189c984b4c40c324e2cb0d9a2
      size: 296390
    - path: src\stage_05_train_evaluate.py
      md5: 1eac633e3937679a307d393238ef6cb6
      size: 4111
    params:
      params.yaml:
        estimators.RandomForestRegressor.params.max_depth: 12
        estimators.RandomForestRegressor.params.min_samples_leaf: 5
        estimators.RandomForestRegressor.params.min_samples_split: 10
        estimators.RandomForestRegressor.params.n_estimators: 660
    outs:
    - path: reports\params.json
      md5: 89d5304c813d2391c69c22665366c7dd
      size: 109
    - path: reports\scores.json
      md5: 71bf28430f894c2c558e335dc059d43a
      size: 97
    - path: saved_model\model.joblib
      md5: 0577140c7802747b8717266e43ffa40c
      size: 17977265
